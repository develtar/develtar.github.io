<!doctype html><html lang=en dir=" auto"><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>Improving QML code readability with singleton | LTDev</title><meta name=keywords content="qt,qml,design-patterns,singleton,javascript"><meta name=description content="This article explains how to take advantage of the singleton pattern in QML, to develope a clean and a structured utility class.
The singleton pattern is a software design pattern that ensures a class has one instance, providing a global point of access to it. Due to its global access, it is one of the most controversial pattern, and can lead to design problems if used incorrectly.
Advantages:
it is initialized only when it’s requested for the first time it can simplify code by making easier to access shared resources it can improve performance by avoiding the need to create multiple instances of a class Disadvantages:"><meta name=author content><link rel=canonical href=https://develtar.github.io/posts/qt-improving-qml-readability-with-singletons/><link crossorigin=anonymous href=/assets/css/stylesheet.31ce10704cc7b9d836c3f8dcf2897b4a1bbd34a1ff943fff502441455151576a.css integrity="sha256-Mc4QcEzHudg2w/jc8ol7Shu9NKH/lD//UCRBRVFRV2o=" rel="preload stylesheet" as=style><script defer crossorigin=anonymous src=/assets/js/highlight.cafa9323e3e9e9b9a4c46bb1ad6d79ddc4babfcf6857090fc2c18140c3ce2545.js integrity="sha256-yvqTI+Pp6bmkxGuxrW153cS6v89oVwkPwsGBQMPOJUU=" onload=hljs.initHighlightingOnLoad()></script>
<link rel=icon href=https://develtar.github.io/favicon.ico><link rel=icon type=image/png sizes=16x16 href=https://develtar.github.io/favicon-16x16.png><link rel=icon type=image/png sizes=32x32 href=https://develtar.github.io/favicon-32x32.png><link rel=apple-touch-icon href=https://develtar.github.io/apple-touch-icon.png><link rel=mask-icon href=https://develtar.github.io/safari-pinned-tab.svg><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><noscript><style>#theme-toggle,.top-link{display:none}</style></noscript><meta property="og:title" content="Improving QML code readability with singleton"><meta property="og:description" content="This article explains how to take advantage of the singleton pattern in QML, to develope a clean and a structured utility class.
The singleton pattern is a software design pattern that ensures a class has one instance, providing a global point of access to it. Due to its global access, it is one of the most controversial pattern, and can lead to design problems if used incorrectly.
Advantages:
it is initialized only when it’s requested for the first time it can simplify code by making easier to access shared resources it can improve performance by avoiding the need to create multiple instances of a class Disadvantages:"><meta property="og:type" content="article"><meta property="og:url" content="https://develtar.github.io/posts/qt-improving-qml-readability-with-singletons/"><meta property="og:image" content="https://develtar.github.io/images/content/posts/qt-improving-qml-readability-with-singletons-cover.png"><meta property="article:section" content="posts"><meta property="article:published_time" content="2023-08-24T11:31:28+02:00"><meta property="article:modified_time" content="2023-08-24T11:31:28+02:00"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="https://develtar.github.io/images/content/posts/qt-improving-qml-readability-with-singletons-cover.png"><meta name=twitter:title content="Improving QML code readability with singleton"><meta name=twitter:description content="This article explains how to take advantage of the singleton pattern in QML, to develope a clean and a structured utility class.
The singleton pattern is a software design pattern that ensures a class has one instance, providing a global point of access to it. Due to its global access, it is one of the most controversial pattern, and can lead to design problems if used incorrectly.
Advantages:
it is initialized only when it’s requested for the first time it can simplify code by making easier to access shared resources it can improve performance by avoiding the need to create multiple instances of a class Disadvantages:"><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Posts","item":"https://develtar.github.io/posts/"},{"@type":"ListItem","position":2,"name":"Improving QML code readability with singleton","item":"https://develtar.github.io/posts/qt-improving-qml-readability-with-singletons/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"Improving QML code readability with singleton","name":"Improving QML code readability with singleton","description":"This article explains how to take advantage of the singleton pattern in QML, to develope a clean and a structured utility class.\nThe singleton pattern is a software design pattern that ensures a class has one instance, providing a global point of access to it. Due to its global access, it is one of the most controversial pattern, and can lead to design problems if used incorrectly.\nAdvantages:\nit is initialized only when it’s requested for the first time it can simplify code by making easier to access shared resources it can improve performance by avoiding the need to create multiple instances of a class Disadvantages:","keywords":["qt","qml","design-patterns","singleton","javascript"],"articleBody":"This article explains how to take advantage of the singleton pattern in QML, to develope a clean and a structured utility class.\nThe singleton pattern is a software design pattern that ensures a class has one instance, providing a global point of access to it. Due to its global access, it is one of the most controversial pattern, and can lead to design problems if used incorrectly.\nAdvantages:\nit is initialized only when it’s requested for the first time it can simplify code by making easier to access shared resources it can improve performance by avoiding the need to create multiple instances of a class Disadvantages:\nit can make more difficult to reason about the behavior of the application it can lead to design problems, especially when managing multiple threads or concurrent accesses to shared resources it violates the Single Responsibility Principle. The pattern solves two problems at the time. NOTE: As a rule of thumb, don’t overuse it.\nOne way to take advantage of this pattern is to reduce the number of global classes by piggybacking on existing ones.\nJavaScript resource libraries For example, let’s suppose to have a QML application which uses some resources that must be accessible from anywhere, like translation strings, icons or other static configurations:\n. └── src ├── assets # Contains the application's icons │ ├── icons │ │ ├── create_icons_js_resource.sh # bash utility script to generate a js resource file for icons │ │ └── tabler │ │ ├── LICENSE.txt │ │ ├── moon.svg │ │ └── sun.svg │ └── icons.qrc ├── cpp # Contains c++ code │ └── main.cpp └── qml # Contains qml/js code ├── components # Custom components │ └── Button.qml ├── conf │ ├── App.qml # Application singleton │ └── Theme.qml ├── javascript │ ├── config.js # Config resource library │ ├── icons.js # Icons resource library │ └── strings.js # Strings resource library ├── main.qml ├── qmldir # Module components └── qml.qrc Those resources can be imported in multiple QML files as javascript scripts using the import keyword. However, because by default, imported javascript files share their context with the QML component that imports them, a new copy of those file is created.\nSo, to save significant amounts of memory, each file can be marked as a .pragma library, which makes them shared resource libraries. In the example, 3 resource libraries are created:\none to store all the strings used in the application (strings.js):\n.pragma library var TR_APPLICATION_TITLE = qsTr(\"Improving QML code readability with singleton\") var TR_BUTTON_DARK_THEME = qsTr(\"Enable dark theme\") var TR_BUTTON_LIGHT_THEME = qsTr(\"Enable light theme\") one to store the static configurations of the application (config.js):\n.pragma library var VERSION = \"v1.0.0\" one to store the paths of the application icons (icons.js):\n.pragma library var prefix = \"qrc:/assets/icons/tabler\" var MOON = Qt.resolvedUrl(prefix+\"/moon.svg\") var SUN = Qt.resolvedUrl(prefix+\"/sun.svg\") Every time one of this resource would be needed in a file, it would be imported as follows:\nimport \"path/to/strings.js\" as Strings import \"path/to/config.js\" as Config import \"path/to/icons.js\" as Icons Now, imagine a complex application which has tons of files that needs more than a bunch of resource files: the number of imports and references increases dramatically, making refactor and usage annoying.\nThe number of references and imports can be reduced using a singleton which wraps them all: this will create a single access to all resources, reducing code complexity and improving readability.\nNOTE: Keep always in mind the KISS principle and avoid to create god classes.\nQML Singleton In the example, the QML singleton App.qml is created to store all the above references:\npragma Singleton import QtQuick 2.0 import \"../javascript/strings.js\" as ApplicationStrings import \"../javascript/config.js\" as ApplicationConfig import \"../javascript/icons.js\" as ApplicationIcons Item { readonly property var config: ApplicationConfig readonly property var strings: ApplicationStrings readonly property var icons: ApplicationIcons } To be able to use this singleton from any QML file:\ncreate a module, using the qmldir file:\nmodule qml singleton App 1.0 conf/App.qml add the following line, in main.cpp, to allow QML engine to load custom modules:\nengine.addImportPath(\":/\"); import it in QML using:\nimport qml 1.0 Now, those resources can be used in QML without any other import:\nimport QtQuick 2.12 import QtQuick.Window 2.12 import qml 1.0 Window { width: 640 height: 480 visible: true title: App.strings.TR_APPLICATION_TITLE + \" - \" + App.config.VERSION ... } Source code is available here.\nReferences https://www.digitalocean.com/community/tutorials/gangs-of-four-gof-design-patterns https://refactoring.guru/design-patterns/singleton https://gameprogrammingpatterns.com/singleton.html https://doc.qt.io/qt-5/qtqml-modules-qmldir.html#contents-of-a-module-definition-qmldir-file https://doc.qt.io/qt-5/qtqml-javascript-resources.html#shared-javascript-resources-libraries ","wordCount":"725","inLanguage":"en","image":"https://develtar.github.io/images/content/posts/qt-improving-qml-readability-with-singletons-cover.png","datePublished":"2023-08-24T11:31:28+02:00","dateModified":"2023-08-24T11:31:28+02:00","mainEntityOfPage":{"@type":"WebPage","@id":"https://develtar.github.io/posts/qt-improving-qml-readability-with-singletons/"},"publisher":{"@type":"Organization","name":"LTDev","logo":{"@type":"ImageObject","url":"https://develtar.github.io/favicon.ico"}}}</script><script async src="https://www.googletagmanager.com/gtag/js?id=G-N06ZD3SC5Q"></script>
<script>window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-N06ZD3SC5Q")</script></head><body class=dark id="
    top"><header class=header><nav class=nav><div class=logo><a href=https://develtar.github.io/ accesskey=h title="LTDev (Alt + H)">LTDev</a><div class=logo-switches></div></div><ul id=menu><li><a href=https://develtar.github.io/posts/ title=Posts><span>Posts</span></a></li><li><a href=https://develtar.github.io/projects/ title=Projects><span>Projects</span></a></li><li><a href=https://develtar.github.io/categories/ title=Categories><span>Categories</span></a></li><li><a href=https://develtar.github.io/tags/ title=Tags><span>Tags</span></a></li><li><a href=https://develtar.github.io/archives/ title=Archives><span>Archives</span></a></li></ul></nav></header><main class=main><article class=post-single><header class=post-header><div class=breadcrumbs><a href=https://develtar.github.io/>Home</a>&nbsp;»&nbsp;<a href=https://develtar.github.io/posts/>Posts</a></div><h1 class=post-title>Improving QML code readability with singleton</h1><div class=post-meta><span title='2023-08-24 11:31:28 +0200 +0200'>August 24, 2023</span>&nbsp;·&nbsp;4 min</div></header><figure class=entry-cover><a href=https://develtar.github.io/images/content/posts/qt-improving-qml-readability-with-singletons-cover.png target=_blank rel="noopener noreferrer"><img loading=lazy src=https://develtar.github.io/images/content/posts/qt-improving-qml-readability-with-singletons-cover.png alt></a></figure><div class=post-content><p>This article explains how to take advantage of the <strong>singleton pattern</strong> in QML, to develope a clean and a structured utility class.</p><p>The singleton pattern is a <strong>software design pattern</strong> that ensures a class has one instance, providing a global point of access to it. Due to its global access, it is one of the most controversial pattern, and can lead to design problems if used incorrectly.</p><p><strong>Advantages</strong>:</p><ul><li>it is initialized only when it’s requested for the first time</li><li>it can simplify code by making easier to access shared resources</li><li>it can improve performance by avoiding the need to create multiple instances of a class</li></ul><p><strong>Disadvantages</strong>:</p><ul><li>it can make more difficult to reason about the behavior of the application</li><li>it can lead to design problems, especially when managing multiple threads or concurrent accesses to shared resources</li><li>it violates the <a href=https://en.wikipedia.org/wiki/Single-responsibility_principle>Single Responsibility Principle</a>. The pattern solves two problems at the time.</li></ul><blockquote><p><strong><em>NOTE:</em></strong> <strong>As a rule of thumb, don&rsquo;t overuse it.</strong></p></blockquote><p>One way to take advantage of this pattern is to reduce the number of global classes by piggybacking on existing ones.</p><h3 id=javascript-resource-libraries>JavaScript resource libraries<a hidden class=anchor aria-hidden=true href=#javascript-resource-libraries>#</a></h3><p>For example, let&rsquo;s suppose to have a QML application which uses some resources that must be accessible from anywhere, like translation strings, icons or other static configurations:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>.
</span></span><span style=display:flex><span>└── src
</span></span><span style=display:flex><span>    ├── assets  <span style=color:#75715e># Contains the application&#39;s icons</span>
</span></span><span style=display:flex><span>    │   ├── icons
</span></span><span style=display:flex><span>    │   │   ├── create_icons_js_resource.sh    <span style=color:#75715e># bash utility script to generate a js resource file for icons</span>
</span></span><span style=display:flex><span>    │   │   └── tabler
</span></span><span style=display:flex><span>    │   │       ├── LICENSE.txt
</span></span><span style=display:flex><span>    │   │       ├── moon.svg
</span></span><span style=display:flex><span>    │   │       └── sun.svg
</span></span><span style=display:flex><span>    │   └── icons.qrc
</span></span><span style=display:flex><span>    ├── cpp     <span style=color:#75715e># Contains c++ code</span>
</span></span><span style=display:flex><span>    │   └── main.cpp
</span></span><span style=display:flex><span>    └── qml     <span style=color:#75715e># Contains qml/js code</span>
</span></span><span style=display:flex><span>        ├── components  <span style=color:#75715e># Custom components</span>
</span></span><span style=display:flex><span>        │   └── Button.qml
</span></span><span style=display:flex><span>        ├── conf        
</span></span><span style=display:flex><span>        │   ├── App.qml     <span style=color:#75715e># Application singleton</span>
</span></span><span style=display:flex><span>        │   └── Theme.qml
</span></span><span style=display:flex><span>        ├── javascript 
</span></span><span style=display:flex><span>        │   ├── config.js   <span style=color:#75715e># Config resource library</span>
</span></span><span style=display:flex><span>        │   ├── icons.js    <span style=color:#75715e># Icons resource library</span>
</span></span><span style=display:flex><span>        │   └── strings.js  <span style=color:#75715e># Strings resource library</span>
</span></span><span style=display:flex><span>        ├── main.qml
</span></span><span style=display:flex><span>        ├── qmldir  <span style=color:#75715e># Module components</span>
</span></span><span style=display:flex><span>        └── qml.qrc
</span></span></code></pre></div><p>Those resources can be imported in multiple QML files as javascript scripts using the <code>import</code> keyword. However, because by default, imported javascript files share their context with the QML component that imports them, a <strong>new copy</strong> of those file is created.</p><p>So, to save significant amounts of memory, each file can be marked as a <code>.pragma library</code>, which makes them <code>shared resource libraries</code>. In the example, 3 resource libraries are created:</p><ul><li><p>one to store all the strings used in the application (<code>strings.js</code>):</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-js data-lang=js><span style=display:flex><span>.<span style=color:#a6e22e>pragma</span> <span style=color:#a6e22e>library</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>var</span> <span style=color:#a6e22e>TR_APPLICATION_TITLE</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>qsTr</span>(<span style=color:#e6db74>&#34;Improving QML code readability with singleton&#34;</span>)
</span></span><span style=display:flex><span><span style=color:#66d9ef>var</span> <span style=color:#a6e22e>TR_BUTTON_DARK_THEME</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>qsTr</span>(<span style=color:#e6db74>&#34;Enable dark theme&#34;</span>)
</span></span><span style=display:flex><span><span style=color:#66d9ef>var</span> <span style=color:#a6e22e>TR_BUTTON_LIGHT_THEME</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>qsTr</span>(<span style=color:#e6db74>&#34;Enable light theme&#34;</span>)
</span></span></code></pre></div></li><li><p>one to store the static configurations of the application (<code>config.js</code>):</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-js data-lang=js><span style=display:flex><span>.<span style=color:#a6e22e>pragma</span> <span style=color:#a6e22e>library</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>var</span> <span style=color:#a6e22e>VERSION</span> <span style=color:#f92672>=</span> <span style=color:#e6db74>&#34;v1.0.0&#34;</span>
</span></span></code></pre></div></li><li><p>one to store the paths of the application icons (<code>icons.js</code>):</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-js data-lang=js><span style=display:flex><span>.<span style=color:#a6e22e>pragma</span> <span style=color:#a6e22e>library</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>var</span> <span style=color:#a6e22e>prefix</span> <span style=color:#f92672>=</span> <span style=color:#e6db74>&#34;qrc:/assets/icons/tabler&#34;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>var</span> <span style=color:#a6e22e>MOON</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>Qt</span>.<span style=color:#a6e22e>resolvedUrl</span>(<span style=color:#a6e22e>prefix</span><span style=color:#f92672>+</span><span style=color:#e6db74>&#34;/moon.svg&#34;</span>)
</span></span><span style=display:flex><span><span style=color:#66d9ef>var</span> <span style=color:#a6e22e>SUN</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>Qt</span>.<span style=color:#a6e22e>resolvedUrl</span>(<span style=color:#a6e22e>prefix</span><span style=color:#f92672>+</span><span style=color:#e6db74>&#34;/sun.svg&#34;</span>)
</span></span></code></pre></div></li></ul><p>Every time one of this resource would be needed in a file, it would be imported as follows:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-qml data-lang=qml><span style=display:flex><span><span style=color:#66d9ef>import</span> <span style=color:#e6db74>&#34;path/to/strings.js&#34;</span> <span style=color:#a6e22e>as</span> <span style=color:#a6e22e>Strings</span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>import</span> <span style=color:#e6db74>&#34;path/to/config.js&#34;</span> <span style=color:#a6e22e>as</span> <span style=color:#a6e22e>Config</span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>import</span> <span style=color:#e6db74>&#34;path/to/icons.js&#34;</span> <span style=color:#a6e22e>as</span> <span style=color:#a6e22e>Icons</span>
</span></span></code></pre></div><p>Now, imagine a complex application which has tons of files that needs more than a bunch of resource files: the number of imports and references increases dramatically, making refactor and usage annoying.</p><p>The number of references and imports can be reduced using a singleton which wraps them all: this will create a single access to all resources, reducing code complexity and improving readability.</p><blockquote><p><strong><em>NOTE:</em></strong> <strong>Keep always in mind the <a href=https://en.wikipedia.org/wiki/KISS_principle>KISS</a> principle and avoid to create god classes.</strong></p></blockquote><h3 id=qml-singleton>QML Singleton<a hidden class=anchor aria-hidden=true href=#qml-singleton>#</a></h3><p>In the example, the QML singleton <code>App.qml</code> is created to store all the above references:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-qml data-lang=qml><span style=display:flex><span><span style=color:#a6e22e>pragma</span> <span style=color:#a6e22e>Singleton</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>import</span> <span style=color:#a6e22e>QtQuick</span> <span style=color:#ae81ff>2.0</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>import</span> <span style=color:#e6db74>&#34;../javascript/strings.js&#34;</span> <span style=color:#a6e22e>as</span> <span style=color:#a6e22e>ApplicationStrings</span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>import</span> <span style=color:#e6db74>&#34;../javascript/config.js&#34;</span> <span style=color:#a6e22e>as</span> <span style=color:#a6e22e>ApplicationConfig</span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>import</span> <span style=color:#e6db74>&#34;../javascript/icons.js&#34;</span> <span style=color:#a6e22e>as</span> <span style=color:#a6e22e>ApplicationIcons</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>Item</span> {
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>readonly</span> <span style=color:#a6e22e>property</span> <span style=color:#66d9ef>var</span> <span style=color:#66d9ef>config:</span> <span style=color:#a6e22e>ApplicationConfig</span>
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>readonly</span> <span style=color:#a6e22e>property</span> <span style=color:#66d9ef>var</span> <span style=color:#66d9ef>strings:</span> <span style=color:#a6e22e>ApplicationStrings</span>
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>readonly</span> <span style=color:#a6e22e>property</span> <span style=color:#66d9ef>var</span> <span style=color:#66d9ef>icons:</span> <span style=color:#a6e22e>ApplicationIcons</span>
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><p>To be able to use this singleton from any QML file:</p><ul><li><p>create a <strong>module</strong>, using the <code>qmldir</code> file:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-txt data-lang=txt><span style=display:flex><span>module qml
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>singleton App 1.0 conf/App.qml
</span></span></code></pre></div></li><li><p>add the following line, in <code>main.cpp</code>, to allow QML engine to load custom modules:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-c++ data-lang=c++><span style=display:flex><span>engine.addImportPath(<span style=color:#e6db74>&#34;:/&#34;</span>);
</span></span></code></pre></div></li><li><p>import it in QML using:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-qml data-lang=qml><span style=display:flex><span><span style=color:#66d9ef>import</span> <span style=color:#a6e22e>qml</span> <span style=color:#ae81ff>1.0</span>
</span></span></code></pre></div></li></ul><p>Now, those resources can be used in QML without any other import:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-qml data-lang=qml><span style=display:flex><span><span style=color:#66d9ef>import</span> <span style=color:#a6e22e>QtQuick</span> <span style=color:#ae81ff>2.12</span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>import</span> <span style=color:#a6e22e>QtQuick</span>.<span style=color:#a6e22e>Window</span> <span style=color:#ae81ff>2.12</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>import</span> <span style=color:#a6e22e>qml</span> <span style=color:#ae81ff>1.0</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>Window</span> {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>width:</span> <span style=color:#ae81ff>640</span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>height:</span> <span style=color:#ae81ff>480</span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>visible:</span> <span style=color:#66d9ef>true</span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>title:</span> <span style=color:#a6e22e>App</span>.<span style=color:#a6e22e>strings</span>.<span style=color:#a6e22e>TR_APPLICATION_TITLE</span> <span style=color:#f92672>+</span> <span style=color:#e6db74>&#34; - &#34;</span> <span style=color:#f92672>+</span> <span style=color:#a6e22e>App</span>.<span style=color:#a6e22e>config</span>.<span style=color:#a6e22e>VERSION</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    ...
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><p>Source code is available <a href=https://github.com/develtar/blog-examples/tree/main/src/posts/qt-improving-qml-readability-with-singletons>here</a>.</p><h1 id=references>References<a hidden class=anchor aria-hidden=true href=#references>#</a></h1><ul><li><a href=https://www.digitalocean.com/community/tutorials/gangs-of-four-gof-design-patterns>https://www.digitalocean.com/community/tutorials/gangs-of-four-gof-design-patterns</a></li><li><a href=https://refactoring.guru/design-patterns/singleton>https://refactoring.guru/design-patterns/singleton</a></li><li><a href=https://gameprogrammingpatterns.com/singleton.html>https://gameprogrammingpatterns.com/singleton.html</a></li><li><a href=https://doc.qt.io/qt-5/qtqml-modules-qmldir.html#contents-of-a-module-definition-qmldir-file>https://doc.qt.io/qt-5/qtqml-modules-qmldir.html#contents-of-a-module-definition-qmldir-file</a></li><li><a href=https://doc.qt.io/qt-5/qtqml-javascript-resources.html#shared-javascript-resources-libraries>https://doc.qt.io/qt-5/qtqml-javascript-resources.html#shared-javascript-resources-libraries</a></li></ul></div><footer class=post-footer><ul class=post-tags><li><a href=https://develtar.github.io/tags/qt/>qt</a></li><li><a href=https://develtar.github.io/tags/qml/>qml</a></li><li><a href=https://develtar.github.io/tags/design-patterns/>design-patterns</a></li><li><a href=https://develtar.github.io/tags/singleton/>singleton</a></li><li><a href=https://develtar.github.io/tags/javascript/>javascript</a></li></ul><nav class=paginav><a class=next href=https://develtar.github.io/posts/ui-ux-design-resources/><span class=title>Next »</span><br><span>UI/UX Design Resources</span></a></nav></footer></article></main><footer class=footer><span>&copy; 2023 <a href=https://develtar.github.io/>LTDev</a></span>
<span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
        <a href=https://github.com/adityatelange/hugo-PaperMod/ rel=noopener target=_blank>PaperMod</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg></a><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script></body></html>