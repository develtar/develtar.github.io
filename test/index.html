<!doctype html><html lang=en dir=" auto"><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>Test | LTDev</title><meta name=keywords content><meta name=description content="Some descr"><meta name=author content><link rel=canonical href=https://develtar.github.io/test/><link crossorigin=anonymous href=/assets/css/stylesheet.31ce10704cc7b9d836c3f8dcf2897b4a1bbd34a1ff943fff502441455151576a.css integrity="sha256-Mc4QcEzHudg2w/jc8ol7Shu9NKH/lD//UCRBRVFRV2o=" rel="preload stylesheet" as=style><script defer crossorigin=anonymous src=/assets/js/highlight.cafa9323e3e9e9b9a4c46bb1ad6d79ddc4babfcf6857090fc2c18140c3ce2545.js integrity="sha256-yvqTI+Pp6bmkxGuxrW153cS6v89oVwkPwsGBQMPOJUU=" onload=hljs.initHighlightingOnLoad()></script>
<link rel=icon href=https://develtar.github.io/favicon.ico><link rel=icon type=image/png sizes=16x16 href=https://develtar.github.io/favicon-16x16.png><link rel=icon type=image/png sizes=32x32 href=https://develtar.github.io/favicon-32x32.png><link rel=apple-touch-icon href=https://develtar.github.io/apple-touch-icon.png><link rel=mask-icon href=https://develtar.github.io/safari-pinned-tab.svg><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><noscript><style>#theme-toggle,.top-link{display:none}</style></noscript><meta property="og:title" content="Test"><meta property="og:description" content="Some descr"><meta property="og:type" content="article"><meta property="og:url" content="https://develtar.github.io/test/"><meta property="article:section" content><meta name=twitter:card content="summary"><meta name=twitter:title content="Test"><meta name=twitter:description content="Some descr"><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Test","item":"https://develtar.github.io/test/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"Test","name":"Test","description":"Some descr","keywords":[],"articleBody":"\n","wordCount":"0","inLanguage":"en","datePublished":"0001-01-01T00:00:00Z","dateModified":"0001-01-01T00:00:00Z","mainEntityOfPage":{"@type":"WebPage","@id":"https://develtar.github.io/test/"},"publisher":{"@type":"Organization","name":"LTDev","logo":{"@type":"ImageObject","url":"https://develtar.github.io/favicon.ico"}}}</script><script async src="https://www.googletagmanager.com/gtag/js?id=G-N06ZD3SC5Q"></script>
<script>window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-N06ZD3SC5Q")</script></head><body class=dark id="
    top"><header class=header><nav class=nav><div class=logo><a href=https://develtar.github.io/ accesskey=h title="LTDev (Alt + H)">LTDev</a><div class=logo-switches></div></div><ul id=menu><li><a href=https://develtar.github.io/posts/ title=Posts><span>Posts</span></a></li><li><a href=https://develtar.github.io/projects/ title=Projects><span>Projects</span></a></li><li><a href=https://develtar.github.io/categories/ title=Categories><span>Categories</span></a></li><li><a href=https://develtar.github.io/tags/ title=Tags><span>Tags</span></a></li><li><a href=https://develtar.github.io/archives/ title=Archives><span>Archives</span></a></li></ul></nav></header><main class=main>[]<main class="prose dark:prose-invert container"><header class=page-header><h1>Test</h1><div class=post-description>Some descr</div></header><p class="text-2xl text-gray3">Fireship is a<div class=hover_img><a href=# id=blazingfast class="blazingfast text-yellow-500 font-bold">HELLO THERE!
<span><img src=/images/hellothere.gif alt=image width=250></span></a></div>&&
        <img-reveal src=/images/cat.gif><span class="text-pink-500 font-bold">highly-amusing</span></img-reveal>
way to level up your programming skills.</p><div class="mx-auto w-24 h-1 my-12 bg-gradient-to-r from-gray5 to-gray4 rounded-full"></div><article class=card><a class="mb-6 no-underline" href=/posts/qt-improving-qml-readability-with-singletons/><h2 class="gradient-text-pink inline-block mb-0">Improving QML code readability with singleton</h2><span class=text-gray3><p>This article explains how to take advantage of the <strong>singleton pattern</strong> in QML, to develope a clean and a structured utility class.</p><p>The singleton pattern is a <strong>software design pattern</strong> that ensures a class has one instance, providing a global point of access to it. Due to its global access, it is one of the most controversial pattern, and can lead to design problems if used incorrectly.</p><p><strong>Advantages</strong>:</p><ul><li>it is initialized only when it’s requested for the first time</li><li>it can simplify code by making easier to access shared resources</li><li>it can improve performance by avoiding the need to create multiple instances of a class</li></ul><p><strong>Disadvantages</strong>:</p><ul><li>it can make more difficult to reason about the behavior of the application</li><li>it can lead to design problems, especially when managing multiple threads or concurrent accesses to shared resources</li><li>it violates the <a href=https://en.wikipedia.org/wiki/Single-responsibility_principle>Single Responsibility Principle</a>. The pattern solves two problems at the time.</li></ul><blockquote><p><strong><em>NOTE:</em></strong> <strong>As a rule of thumb, don&rsquo;t overuse it.</strong></p></blockquote><p>One way to take advantage of this pattern is to reduce the number of global classes by piggybacking on existing ones.</p><h3 id=javascript-resource-libraries>JavaScript resource libraries</h3><p>For example, let&rsquo;s suppose to have a QML application which uses some resources that must be accessible from anywhere, like translation strings, icons or other static configurations:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>.
</span></span><span style=display:flex><span>└── src
</span></span><span style=display:flex><span>    ├── assets  <span style=color:#75715e># Contains the application&#39;s icons</span>
</span></span><span style=display:flex><span>    │   ├── icons
</span></span><span style=display:flex><span>    │   │   ├── create_icons_js_resource.sh    <span style=color:#75715e># bash utility script to generate a js resource file for icons</span>
</span></span><span style=display:flex><span>    │   │   └── tabler
</span></span><span style=display:flex><span>    │   │       ├── LICENSE.txt
</span></span><span style=display:flex><span>    │   │       ├── moon.svg
</span></span><span style=display:flex><span>    │   │       └── sun.svg
</span></span><span style=display:flex><span>    │   └── icons.qrc
</span></span><span style=display:flex><span>    ├── cpp     <span style=color:#75715e># Contains c++ code</span>
</span></span><span style=display:flex><span>    │   └── main.cpp
</span></span><span style=display:flex><span>    └── qml     <span style=color:#75715e># Contains qml/js code</span>
</span></span><span style=display:flex><span>        ├── components  <span style=color:#75715e># Custom components</span>
</span></span><span style=display:flex><span>        │   └── Button.qml
</span></span><span style=display:flex><span>        ├── conf        
</span></span><span style=display:flex><span>        │   ├── App.qml     <span style=color:#75715e># Application singleton</span>
</span></span><span style=display:flex><span>        │   └── Theme.qml
</span></span><span style=display:flex><span>        ├── javascript 
</span></span><span style=display:flex><span>        │   ├── config.js   <span style=color:#75715e># Config resource library</span>
</span></span><span style=display:flex><span>        │   ├── icons.js    <span style=color:#75715e># Icons resource library</span>
</span></span><span style=display:flex><span>        │   └── strings.js  <span style=color:#75715e># Strings resource library</span>
</span></span><span style=display:flex><span>        ├── main.qml
</span></span><span style=display:flex><span>        ├── qmldir  <span style=color:#75715e># Module components</span>
</span></span><span style=display:flex><span>        └── qml.qrc
</span></span></code></pre></div><p>Those resources can be imported in multiple QML files as javascript scripts using the <code>import</code> keyword. However, because by default, imported javascript files share their context with the QML component that imports them, a <strong>new copy</strong> of those file is created.</p><p>So, to save significant amounts of memory, each file can be marked as a <code>.pragma library</code>, which makes them <code>shared resource libraries</code>. In the example, 3 resource libraries are created:</p><ul><li><p>one to store all the strings used in the application (<code>strings.js</code>):</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-js data-lang=js><span style=display:flex><span>.<span style=color:#a6e22e>pragma</span> <span style=color:#a6e22e>library</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>var</span> <span style=color:#a6e22e>TR_APPLICATION_TITLE</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>qsTr</span>(<span style=color:#e6db74>&#34;Improving QML code readability with singleton&#34;</span>)
</span></span><span style=display:flex><span><span style=color:#66d9ef>var</span> <span style=color:#a6e22e>TR_BUTTON_DARK_THEME</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>qsTr</span>(<span style=color:#e6db74>&#34;Enable dark theme&#34;</span>)
</span></span><span style=display:flex><span><span style=color:#66d9ef>var</span> <span style=color:#a6e22e>TR_BUTTON_LIGHT_THEME</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>qsTr</span>(<span style=color:#e6db74>&#34;Enable light theme&#34;</span>)
</span></span></code></pre></div></li><li><p>one to store the static configurations of the application (<code>config.js</code>):</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-js data-lang=js><span style=display:flex><span>.<span style=color:#a6e22e>pragma</span> <span style=color:#a6e22e>library</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>var</span> <span style=color:#a6e22e>VERSION</span> <span style=color:#f92672>=</span> <span style=color:#e6db74>&#34;v1.0.0&#34;</span>
</span></span></code></pre></div></li><li><p>one to store the paths of the application icons (<code>icons.js</code>):</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-js data-lang=js><span style=display:flex><span>.<span style=color:#a6e22e>pragma</span> <span style=color:#a6e22e>library</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>var</span> <span style=color:#a6e22e>prefix</span> <span style=color:#f92672>=</span> <span style=color:#e6db74>&#34;qrc:/assets/icons/tabler&#34;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>var</span> <span style=color:#a6e22e>MOON</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>Qt</span>.<span style=color:#a6e22e>resolvedUrl</span>(<span style=color:#a6e22e>prefix</span><span style=color:#f92672>+</span><span style=color:#e6db74>&#34;/moon.svg&#34;</span>)
</span></span><span style=display:flex><span><span style=color:#66d9ef>var</span> <span style=color:#a6e22e>SUN</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>Qt</span>.<span style=color:#a6e22e>resolvedUrl</span>(<span style=color:#a6e22e>prefix</span><span style=color:#f92672>+</span><span style=color:#e6db74>&#34;/sun.svg&#34;</span>)
</span></span></code></pre></div></li></ul><p>Every time one of this resource would be needed in a file, it would be imported as follows:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-qml data-lang=qml><span style=display:flex><span><span style=color:#66d9ef>import</span> <span style=color:#e6db74>&#34;path/to/strings.js&#34;</span> <span style=color:#a6e22e>as</span> <span style=color:#a6e22e>Strings</span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>import</span> <span style=color:#e6db74>&#34;path/to/config.js&#34;</span> <span style=color:#a6e22e>as</span> <span style=color:#a6e22e>Config</span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>import</span> <span style=color:#e6db74>&#34;path/to/icons.js&#34;</span> <span style=color:#a6e22e>as</span> <span style=color:#a6e22e>Icons</span>
</span></span></code></pre></div><p>Now, imagine a complex application which has tons of files that needs more than a bunch of resource files: the number of imports and references increases dramatically, making refactor and usage annoying.</p><p>The number of references and imports can be reduced using a singleton which wraps them all: this will create a single access to all resources, reducing code complexity and improving readability.</p><blockquote><p><strong><em>NOTE:</em></strong> <strong>Keep always in mind the <a href=https://en.wikipedia.org/wiki/KISS_principle>KISS</a> principle and avoid to create god classes.</strong></p></blockquote><h3 id=qml-singleton>QML Singleton</h3><p>In the example, the QML singleton <code>App.qml</code> is created to store all the above references:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-qml data-lang=qml><span style=display:flex><span><span style=color:#a6e22e>pragma</span> <span style=color:#a6e22e>Singleton</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>import</span> <span style=color:#a6e22e>QtQuick</span> <span style=color:#ae81ff>2.0</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>import</span> <span style=color:#e6db74>&#34;../javascript/strings.js&#34;</span> <span style=color:#a6e22e>as</span> <span style=color:#a6e22e>ApplicationStrings</span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>import</span> <span style=color:#e6db74>&#34;../javascript/config.js&#34;</span> <span style=color:#a6e22e>as</span> <span style=color:#a6e22e>ApplicationConfig</span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>import</span> <span style=color:#e6db74>&#34;../javascript/icons.js&#34;</span> <span style=color:#a6e22e>as</span> <span style=color:#a6e22e>ApplicationIcons</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>Item</span> {
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>readonly</span> <span style=color:#a6e22e>property</span> <span style=color:#66d9ef>var</span> <span style=color:#66d9ef>config:</span> <span style=color:#a6e22e>ApplicationConfig</span>
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>readonly</span> <span style=color:#a6e22e>property</span> <span style=color:#66d9ef>var</span> <span style=color:#66d9ef>strings:</span> <span style=color:#a6e22e>ApplicationStrings</span>
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>readonly</span> <span style=color:#a6e22e>property</span> <span style=color:#66d9ef>var</span> <span style=color:#66d9ef>icons:</span> <span style=color:#a6e22e>ApplicationIcons</span>
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><p>To be able to use this singleton from any QML file:</p><ul><li><p>create a <strong>module</strong>, using the <code>qmldir</code> file:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-txt data-lang=txt><span style=display:flex><span>module qml
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>singleton App 1.0 conf/App.qml
</span></span></code></pre></div></li><li><p>add the following line, in <code>main.cpp</code>, to allow QML engine to load custom modules:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-c++ data-lang=c++><span style=display:flex><span>engine.addImportPath(<span style=color:#e6db74>&#34;:/&#34;</span>);
</span></span></code></pre></div></li><li><p>import it in QML using:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-qml data-lang=qml><span style=display:flex><span><span style=color:#66d9ef>import</span> <span style=color:#a6e22e>qml</span> <span style=color:#ae81ff>1.0</span>
</span></span></code></pre></div></li></ul><p>Now, those resources can be used in QML without any other import:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-qml data-lang=qml><span style=display:flex><span><span style=color:#66d9ef>import</span> <span style=color:#a6e22e>QtQuick</span> <span style=color:#ae81ff>2.12</span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>import</span> <span style=color:#a6e22e>QtQuick</span>.<span style=color:#a6e22e>Window</span> <span style=color:#ae81ff>2.12</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>import</span> <span style=color:#a6e22e>qml</span> <span style=color:#ae81ff>1.0</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>Window</span> {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>width:</span> <span style=color:#ae81ff>640</span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>height:</span> <span style=color:#ae81ff>480</span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>visible:</span> <span style=color:#66d9ef>true</span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>title:</span> <span style=color:#a6e22e>App</span>.<span style=color:#a6e22e>strings</span>.<span style=color:#a6e22e>TR_APPLICATION_TITLE</span> <span style=color:#f92672>+</span> <span style=color:#e6db74>&#34; - &#34;</span> <span style=color:#f92672>+</span> <span style=color:#a6e22e>App</span>.<span style=color:#a6e22e>config</span>.<span style=color:#a6e22e>VERSION</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    ...
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><p>Source code is available <a href=https://github.com/develtar/blog-examples/tree/main/src/posts/qt-improving-qml-readability-with-singletons>here</a>.</p><h1 id=references>References</h1><ul><li><a href=https://www.digitalocean.com/community/tutorials/gangs-of-four-gof-design-patterns>https://www.digitalocean.com/community/tutorials/gangs-of-four-gof-design-patterns</a></li><li><a href=https://refactoring.guru/design-patterns/singleton>https://refactoring.guru/design-patterns/singleton</a></li><li><a href=https://gameprogrammingpatterns.com/singleton.html>https://gameprogrammingpatterns.com/singleton.html</a></li><li><a href=https://doc.qt.io/qt-5/qtqml-modules-qmldir.html#contents-of-a-module-definition-qmldir-file>https://doc.qt.io/qt-5/qtqml-modules-qmldir.html#contents-of-a-module-definition-qmldir-file</a></li><li><a href=https://doc.qt.io/qt-5/qtqml-javascript-resources.html#shared-javascript-resources-libraries>https://doc.qt.io/qt-5/qtqml-javascript-resources.html#shared-javascript-resources-libraries</a></li></ul></span></a></article><article class=card><a class="mb-6 no-underline" href=/posts/ui-ux-design-resources/><h2 class="gradient-text-pink inline-block mb-0">UI/UX Design Resources</h2><span class=text-gray3><h2 id=icon-packs>Icon Packs</h2><p>List of free design icon packs:</p><ul><li><p><a href=https://feathericons.com/>Feather Icons</a> (license <a href=https://opensource.org/license/mit/>MIT</a>)</p></li><li><p><a href=https://atlasicons.vectopus.com/>Atlas Icons</a> (license <a href=https://opensource.org/license/mit/>MIT</a>)</p></li><li><p><a href=https://www.figma.com/community/file/1042928259792594757>Tablericons</a> (license <a href=https://creativecommons.org/licenses/by/4.0/>CC BY 4.0</a>)</p></li><li><p><a href=https://www.figma.com/community/file/1067430178417809117>Flat icons</a> (license <a href=https://creativecommons.org/licenses/by/4.0/>CC BY 4.0</a>)</p></li><li><p><a href=https://www.figma.com/community/file/1070963481645455379>BIC icons</a> (license <a href=https://creativecommons.org/licenses/by/4.0/>CC BY 4.0</a>)</p></li><li><p><a href=https://www.figma.com/community/file/1082715375391952975>UI Line</a> (license <a href=https://creativecommons.org/licenses/by/4.0/>CC BY 4.0</a>)</p></li><li><p><a href=https://www.figma.com/community/file/908236723506952040>Nataicons</a> (license <a href=https://creativecommons.org/licenses/by/4.0/>CC BY 4.0</a>)</p></li><li><p><a href=https://www.figma.com/community/file/958423903283802665>heroicons</a> (license <a href=https://creativecommons.org/licenses/by/4.0/>CC BY 4.0</a>)</p></li><li><p><a href=https://www.untitledui.com/icons>Untitled UI Icons</a> (license <a href=https://creativecommons.org/licenses/by/4.0/>CC BY 4.0</a>)</p></li><li><p><a href=https://www.figma.com/community/file/917769067765992823>Flags</a> (license <a href=https://creativecommons.org/licenses/by/4.0/>CC BY 4.0</a>)</p></li><li><p><a href=https://www.figma.com/community/file/942053544758339202>SWM Icon Pack</a> (license <a href=https://creativecommons.org/licenses/by/4.0/>CC BY 4.0</a>)</p></li><li><p><a href=https://iconic.app/c/availability/free/>Iconic</a> (license <a href=http://www.wtfpl.net/>WTFPL</a>)</p></li><li><p><a href="https://fonts.google.com/icons?icon.set=Material+Icons">Material Design Icons</a> (license <a href=https://www.apache.org/licenses/LICENSE-2.0>Apache 2.0</a>)</p></li></ul><h1 id=utils>Utils</h1><ul><li><a href=https://github.com/svg/svgo>SVGO</a>: svg optimizer</li></ul><p>Add icons in figma:</p><ul><li><a href=https://docs.iconify.design/design/figma/>https://docs.iconify.design/design/figma/</a></li></ul><p>Tutorial icons to library:</p><ul><li><a href="https://www.youtube.com/watch?v=jn_gEG_IxlY">https://www.youtube.com/watch?v=jn_gEG_IxlY</a></li></ul><p>Icons manager:</p><ul><li><a href=https://icon-shelf.github.io/download>https://icon-shelf.github.io/download</a></li></ul><p>Icons as fonts in Qt:</p><ul><li><a href=https://github.com/Aseman-Land/QtAseman/blob/master/src/asemanqml/materialicons/MaterialIcons/MaterialIcons.qml>https://github.com/Aseman-Land/QtAseman/blob/master/src/asemanqml/materialicons/MaterialIcons/MaterialIcons.qml</a></li></ul><h2 id=design-resources>Design Resources</h2><ul><li><a href=https://www.uigoodies.com/>https://www.uigoodies.com/</a></li><li><a href=https://www.awwwards.com/41-excellent-icon-sets-with-the-best-free-icons.html>https://www.awwwards.com/41-excellent-icon-sets-with-the-best-free-icons.html</a></li><li><a href=https://m3.material.io/>https://m3.material.io/</a></li><li>background generator: <a href=https://app.haikei.app/>https://app.haikei.app/</a></li></ul><h2 id=uiux-research-design>UI/UX Research design:</h2><ul><li><a href=https://www.nngroup.com/>https://www.nngroup.com/</a></li><li><a href=https://www.youtube.com/c/NNgroup/videos>https://www.youtube.com/c/NNgroup/videos</a></li></ul><h2 id=animations>Animations</h2><p>Material design, UI/UX animations motion:</p><ul><li><a href=https://material.io/design/motion/>https://material.io/design/motion/</a></li><li>easing types: <a href=https://easings.net/>https://easings.net/</a></li><li><a href=https://uxdesign.cc/the-ultimate-guide-to-proper-use-of-animation-in-ux-10bd98614fa9>https://uxdesign.cc/the-ultimate-guide-to-proper-use-of-animation-in-ux-10bd98614fa9</a></li></ul></span></a></article><article class=card><a class="mb-6 no-underline" href=/posts/qt-qml-live-reload/><h2 class="gradient-text-pink inline-block mb-0">Qt QML Live Reload</h2><span class=text-gray3><p>One of the most important and underestimated tools when developing QML apps, is <strong>QML live</strong>:</p><blockquote><p><em>QML Live is a local and remote Qt Quick live reloading system. It allows you to change your QML user interface source code and view the result in realtime.</em></p><p><em>&ndash; <a href=https://doc.qt.io/QMLLive/qmllive-index.html>Qt Documentation</a></em></p></blockquote><p>This tool can save countless hours of development when prototyping an application, because it simply reloads the edited files without the need of recompiling them.</p><p>It is particularly useful when minor changes need to be applied on a page or a component, such as styles, colors, dimensions, etc&mldr;</p><h2 id=installation>Installation</h2><p>This tool has been developed by <a href=https://www.luxoft.com/>Luxoft Sweden AB</a> and it is part of the Qt framework.</p><p>To install QML live (on Linux 64 bit):</p><ul><li><p>clone <a href=https://github.com/qtproject/qt-apps-qmllive>repository</a>:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>git clone https://github.com/qtproject/qt-apps-qmllive.git
</span></span></code></pre></div></li><li><p>build and install:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>mkdir build-qmllive <span style=color:#f92672>&amp;&amp;</span> cd build-qmllive
</span></span></code></pre></div><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>qmake ../qt-apps-qmllive/qmllive.pro
</span></span></code></pre></div><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>make -j8 <span style=color:#f92672>&amp;&amp;</span> make install
</span></span></code></pre></div></li></ul><p>Below a bash script which automates the previous steps:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span><span style=color:#75715e>#!/bin/bash
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>
</span></span><span style=display:flex><span><span style=color:#75715e># Usage</span>
</span></span><span style=display:flex><span><span style=color:#75715e># bash clone-and-compile-qmllive.sh &lt;qmake-path&gt;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>if</span> <span style=color:#f92672>[</span> ! $# -eq <span style=color:#ae81ff>1</span> <span style=color:#f92672>]</span>; <span style=color:#66d9ef>then</span>
</span></span><span style=display:flex><span>    echo <span style=color:#e6db74>&#34;Usage: bash clone-and-compile-qmllive.sh &lt;qmake-path&gt;&#34;</span>
</span></span><span style=display:flex><span>    exit <span style=color:#ae81ff>1</span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>fi</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>QMAKE_PATH<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;</span>$1<span style=color:#e6db74>&#34;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>git clone https://github.com/qtproject/qt-apps-qmllive.git
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>mkdir build-qmllive
</span></span><span style=display:flex><span>cd build-qmllive
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>$QMAKE_PATH ../qt-apps-qmllive/qmllive.pro
</span></span><span style=display:flex><span>sudo make <span style=color:#f92672>&amp;&amp;</span> sudo make install
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>exit <span style=color:#ae81ff>0</span>
</span></span></code></pre></div><p>Supposing that <code>Qt</code> has been installed in <code>/home/leo/</code> and its version is <code>5.12.4</code>, the above script can be executed typing:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>bash clone-and-compile-qmllive.sh /home/leo/Qt5.12.4/5.12.4/gcc_64/bin/qmake
</span></span></code></pre></div><p>When the installation will be completed, the files <code>qmllivebench</code> and <code>qmlliveruntime</code> will be generated in the Qt binaries path, which in our sample is <code>/home/leo/Qt5.12.4/5.12.4/gcc_64/bin/</code>.</p><h2 id=configuration>Configuration</h2><p>To configure QML live in Qt, open Qt Creator and in <code>Tools --> Options --> Environment --> External Tools</code> add a new tool (<code>Add --> Add Tool</code>), setting the following properties:</p><ul><li><strong>Description</strong>: <code>QML Live Reload</code></li><li><strong>Executable</strong>: <code>/home/leo/Qt5.12.4/5.12.4/gcc_64/bin/qmllivebench</code></li><li><strong>Arguments</strong>: <code>%{CurrentProject:Path} --maxdirwatch 800 --importpath %{CurrentProject:Path}</code></li></ul><p><img loading=lazy src=images/qt-creator-options-environment-external-tools.png alt></p><p><img loading=lazy src=images/qt-creator-options-environment-external-tools-qmllivebench.png alt></p><p>Then in <code>Tools --> Options --> Environment --> Keyboard</code>, search for the <code>qmllivebench</code> binary and assign a new key sequence, like for example <code>ALT + F8</code>.</p><p><img loading=lazy src=images/qt-creator-options-environment-keyboard.png alt></p><p>Now the combination <code>ALT + F8</code> will open the <code>QML live</code> tool:</p><p><img loading=lazy src=images/qmllivebench.png alt></p><p>and editing the source code of the files will automatically trigger the update of qml live preview.</p><h2 id=external-pluginslibraries>External plugins/libraries</h2><p>Often bigger projects need to use external libraries which have been installed in specific locations. <code>QML live</code> doesn&rsquo;t automatically recognize those libraries, so it could show an error message like the following one:</p><p><img loading=lazy src=images/qmllivebench-error-module-not-found.png alt></p><p>The error <code>module "it.ltdev.qt.qml.components" is not installed</code> says that in <code>main.qml</code> file is imported a library called <code>it.ltdev.qt.qml.component</code> which has not been found by the tool. This can be easily solved adding the path (where the library is located) in the preferences of QML live: <code>File --> Preferences --> Import Paths --> Add</code></p><p><img loading=lazy src=images/qmllivebench-preferences-import-path.png alt></p><p>Adding the library path should resolve the issue (<code>QML live</code> restart could be needed).</p><h2 id=alternatives-to-qml-live>Alternatives to QML live:</h2><ul><li><a href=https://github.com/machinekoder/cpp-qt-live-coding>https://github.com/machinekoder/cpp-qt-live-coding</a></li><li><a href=https://github.com/dcourtois/QmlDev>https://github.com/dcourtois/QmlDev</a></li><li><a href=https://github.com/dabulla/hotreload>https://github.com/dabulla/hotreload</a></li><li><a href=https://github.com/bgr/qml_hot_reload>https://github.com/bgr/qml_hot_reload</a></li><li><a href=https://github.com/OlivierLDff/QaterialHotReload>https://github.com/OlivierLDff/QaterialHotReload</a></li><li><a href=https://github.com/dcourtois/QmlDev>https://github.com/dcourtois/QmlDev</a></li></ul><h2 id=references>References:</h2><ul><li><a href=https://doc.qt.io/QMLLive/qmllive-index.html>https://doc.qt.io/QMLLive/qmllive-index.html</a></li><li><a href=https://github.com/qtproject/qt-apps-qmllive.git>https://github.com/qtproject/qt-apps-qmllive.git</a></li><li><a href=https://qml.guide/live-reloading-hot-reloading-qml/>https://qml.guide/live-reloading-hot-reloading-qml/</a></li><li><a href=https://medium.com/@benlaud/getting-qml-live-works-with-your-c-code-4d919f4af2cc>https://medium.com/@benlaud/getting-qml-live-works-with-your-c-code-4d919f4af2cc</a></li></ul></span></a></article><article class=card><a class="mb-6 no-underline" href=/posts/hugo-custom-highlight-js/><h2 class="gradient-text-pink inline-block mb-0">Create a custom code highlight for Hugo</h2><span class=text-gray3><p>This article explains how to change the code highlight for a custom hugo website theme.</p><p>Suppose that the website is based on the <code>PaperMod</code> theme, and the source code colors needs to be customized.</p><p>In the <code>PaperMod</code> theme, the <code>highlight.js</code> library is used to provide different styles for each defined language. This file is located in:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>.
</span></span><span style=display:flex><span>└── themes
</span></span><span style=display:flex><span>    └── PaperMod
</span></span><span style=display:flex><span>        └── assets
</span></span><span style=display:flex><span>           └── js
</span></span><span style=display:flex><span>               └── highlight.min.js
</span></span></code></pre></div><p>Now, update the minified library in the custom theme to apply the changes, and change the css style for the target language:</p><ul><li><p>download the latest library at <a href=https://highlightjs.org/download/>https://highlightjs.org/download/</a> selecting the appropriate package from the website. The downloaded folder should contain the following files:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>.
</span></span><span style=display:flex><span>├── highlight
</span></span><span style=display:flex><span>│   ├── DIGESTS.md
</span></span><span style=display:flex><span>│   ├── es
</span></span><span style=display:flex><span>│   ├── highlight.js
</span></span><span style=display:flex><span>│   ├── highlight.min.js
</span></span><span style=display:flex><span>│   ├── languages
</span></span><span style=display:flex><span>│   ├── LICENSE
</span></span><span style=display:flex><span>│   ├── package.json
</span></span><span style=display:flex><span>│   ├── README.md
</span></span><span style=display:flex><span>│   └── styles
</span></span><span style=display:flex><span>...
</span></span></code></pre></div></li><li><p>copy the dowloaded <code>highlight.min.js</code> in the assets folder of the website, using the same structure used in the theme to allow the override:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>.
</span></span><span style=display:flex><span>├── assets
</span></span><span style=display:flex><span>│   └── js
</span></span><span style=display:flex><span>│       └── highlight.min.js
</span></span><span style=display:flex><span>└── themes
</span></span><span style=display:flex><span>    └── PaperMod
</span></span><span style=display:flex><span>        └── assets
</span></span><span style=display:flex><span>           └── js
</span></span><span style=display:flex><span>               └── highlight.min.js
</span></span></code></pre></div></li><li><p>create a new .css file for the language, in <code>assets/css/extended/</code> called <code>highlight.qml.css</code>.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>.
</span></span><span style=display:flex><span>└── assets
</span></span><span style=display:flex><span>   ├── css
</span></span><span style=display:flex><span>   │   └── extended
</span></span><span style=display:flex><span>   │       └── highlight.qml.css
</span></span><span style=display:flex><span>   └── js
</span></span><span style=display:flex><span>       └── highlight.min.js
</span></span></code></pre></div></li><li><p>copy the content of the style associated to QML language, which can be found in the file <code>highlight/styles/qtcreator-dark.min.css</code> in the downloaded folder, and apply the changes:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-css data-lang=css><span style=display:flex><span><span style=color:#f92672>pre</span> <span style=color:#f92672>code</span>.<span style=color:#a6e22e>hljs</span>{
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>display</span>:<span style=color:#66d9ef>block</span>;
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>overflow-x</span>:<span style=color:#66d9ef>auto</span>;
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>padding</span>:<span style=color:#ae81ff>1</span><span style=color:#66d9ef>em</span>
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span><span style=color:#f92672>code</span>.<span style=color:#a6e22e>hljs</span>{
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>padding</span>:<span style=color:#ae81ff>3</span><span style=color:#66d9ef>px</span> <span style=color:#ae81ff>5</span><span style=color:#66d9ef>px</span>
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>.<span style=color:#a6e22e>hljs</span>{
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>color</span>:<span style=color:#ae81ff>#aaa</span>;
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>background</span>:<span style=color:#ae81ff>#000</span>
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>.<span style=color:#a6e22e>hljs-emphasis</span><span style=color:#f92672>,</span>.<span style=color:#a6e22e>hljs-strong</span>{
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>color</span>:<span style=color:#ae81ff>#a8a8a2</span>
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>.<span style=color:#a6e22e>hljs-bullet</span><span style=color:#f92672>,</span>.<span style=color:#a6e22e>hljs-literal</span><span style=color:#f92672>,</span>.<span style=color:#a6e22e>hljs-number</span><span style=color:#f92672>,</span>.<span style=color:#a6e22e>hljs-quote</span><span style=color:#f92672>,</span>.<span style=color:#a6e22e>hljs-regexp</span>{
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>color</span>:<span style=color:#ae81ff>#89c7f0</span>
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>.<span style=color:#a6e22e>hljs-code</span> .<span style=color:#a6e22e>hljs-selector-class</span>{
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>color</span>:<span style=color:#ae81ff>#aaf</span>
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>.<span style=color:#a6e22e>hljs-emphasis</span><span style=color:#f92672>,</span>.<span style=color:#a6e22e>hljs-stronge</span><span style=color:#f92672>,</span>.<span style=color:#a6e22e>hljs-type</span>{
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>font-style</span>:<span style=color:#66d9ef>italic</span>
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>.<span style=color:#a6e22e>hljs-function</span><span style=color:#f92672>,</span>.<span style=color:#a6e22e>hljs-keyword</span><span style=color:#f92672>,</span>.<span style=color:#a6e22e>hljs-name</span><span style=color:#f92672>,</span>.<span style=color:#a6e22e>hljs-section</span><span style=color:#f92672>,</span>.<span style=color:#a6e22e>hljs-selector-tag</span><span style=color:#f92672>,</span>.<span style=color:#a6e22e>hljs-symbol</span>{
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>color</span>:<span style=color:#ae81ff>#7c5b32</span>
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>.<span style=color:#a6e22e>hljs-subst</span><span style=color:#f92672>,</span>.<span style=color:#a6e22e>hljs-tag</span><span style=color:#f92672>,</span>.<span style=color:#a6e22e>hljs-title</span>{
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>color</span>:<span style=color:#ae81ff>#ffb560</span>
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>.<span style=color:#a6e22e>hljs-attribute</span>{
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>color</span>:<span style=color:#ae81ff>#a37942</span>
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>.<span style=color:#a6e22e>hljs-class</span> .<span style=color:#a6e22e>hljs-title</span><span style=color:#f92672>,</span>.<span style=color:#a6e22e>hljs-params</span><span style=color:#f92672>,</span>.<span style=color:#a6e22e>hljs-title</span>.<span style=color:#a6e22e>class_</span><span style=color:#f92672>,</span>.<span style=color:#a6e22e>hljs-variable</span>{
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>color</span>:<span style=color:#ae81ff>#88f</span>
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>.<span style=color:#a6e22e>hljs-addition</span><span style=color:#f92672>,</span>.<span style=color:#a6e22e>hljs-link</span><span style=color:#f92672>,</span>.<span style=color:#a6e22e>hljs-selector-attr</span><span style=color:#f92672>,</span>.<span style=color:#a6e22e>hljs-selector-id</span><span style=color:#f92672>,</span>.<span style=color:#a6e22e>hljs-selector-pseudo</span><span style=color:#f92672>,</span>.<span style=color:#a6e22e>hljs-string</span><span style=color:#f92672>,</span>.<span style=color:#a6e22e>hljs-template-tag</span><span style=color:#f92672>,</span>.<span style=color:#a6e22e>hljs-template-variable</span><span style=color:#f92672>,</span>.<span style=color:#a6e22e>hljs-type</span>{
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>color</span>:<span style=color:#ae81ff>#379443</span>
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>.<span style=color:#a6e22e>hljs-comment</span><span style=color:#f92672>,</span>.<span style=color:#a6e22e>hljs-deletion</span><span style=color:#f92672>,</span>.<span style=color:#a6e22e>hljs-meta</span>{
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>color</span>:<span style=color:#ae81ff>#797878</span>
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>.<span style=color:#a6e22e>hljs-built_in</span> {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>color</span>:<span style=color:#ae81ff>#55aaff</span>
</span></span><span style=display:flex><span>}
</span></span></code></pre></div></li><li><p>the new style should have been applied :D</p></li></ul></span></a></article></main></main><footer class=footer><span>&copy; 2023 <a href=https://develtar.github.io/>LTDev</a></span>
<span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
        <a href=https://github.com/adityatelange/hugo-PaperMod/ rel=noopener target=_blank>PaperMod</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg></a><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script></body></html>